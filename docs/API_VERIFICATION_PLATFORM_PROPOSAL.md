# MIDAS API 검증 플랫폼 기획서
## How to Make API Verification Easy & Automated

---

## 📋 현재 문제점

### 문제 1: 정보가 여러 곳에 분산되어 있음

**현재 상황**
```
HTML 문서에서 정보를 찾으려면:
1. JSON Schema를 보고 → 데이터 타입 확인
2. Specifications 테이블을 보고 → Required/Optional 확인
3. Examples를 보고 → 실제 사용법 확인
4. 제품을 실행해서 → 진짜 동작 확인
```

**문제점**
- 스키마만 봐서는 필수/선택 여부를 알 수 없음
- 테이블과 스키마의 정보가 일치하지 않을 때가 있음
- 문서와 실제 제품 동작이 다를 때를 알아채기 어려움

---

### 문제 2: 수동 검증의 한계

**현재 검증 프로세스**
```
1. 문서를 읽는다
2. Postman/Curl로 API를 호출한다
3. 응답을 확인한다
4. 문제가 있으면 기록한다
5. 다음 API로... (440개 반복)
```

**문제점**
- 시간이 너무 오래 걸림 (440개 API × 10분 = 73시간)
- 사람이 하면 실수할 수 있음
- 한 번 검증하면 끝이 아니라 API가 업데이트될 때마다 다시 해야 함

---

### 문제 3: 불일치를 찾기 어려움

**예시: GROUP_NAME 파라미터**
```
문서에는: "Optional" 
실제로는: 비어있으면 에러 발생

이걸 어떻게 알 수 있나?
→ 직접 테스트해보기 전까지는 모름
→ 테스트해도 기록하지 않으면 다시 까먹음
```

---

## 💡 해결 방법: 3단계 접근법

### 1단계: 정보를 한 곳에 모으기 (Information Hub)

#### 방법 A: 자동 파싱으로 정보 추출

**기존 HTML에서 자동으로 추출하는 것**
```
HTML 문서 입력
    ↓
[자동 파싱]
    ↓
통합 정보 생성
    ├─ JSON Schema
    ├─ Required/Optional 정보 (테이블에서)
    ├─ Default 값
    ├─ Validation 규칙
    └─ 예제 코드
```

**구체적인 추출 과정**
```
1. JSON Schema 블록 찾기
   → <div id="copyTarget1"> 안의 스키마 추출

2. Specifications 테이블 파싱
   → "Required" 컬럼을 보고 필수 여부 판단
   → "Default" 컬럼을 보고 기본값 기록
   → "Value Type" 컬럼을 보고 타입 확인

3. Request Examples 추출
   → <div id="copyTarget2">, copyTarget3... 안의 예제 수집
   
4. 모든 정보를 하나의 구조로 통합
```

#### 방법 B: 통합된 데이터 구조 설계

**Before (분산된 정보)**
```
스키마: "LCNAME": { "type": "string" }
테이블: LCNAME | String | Required
예제: "LCNAME": "CONLOAD_03"
```

**After (통합된 정보)**
```json
{
  "LCNAME": {
    "type": "string",
    "required": true,           ← 테이블에서 가져옴
    "description": "Load Case Name",
    "min_length": 1,
    "max_length": 50,
    "examples": [               ← 예제들에서 가져옴
      "CONLOAD_03",
      "UNILOAD_17"
    ],
    "actual_behavior": {        ← 실제 테스트 결과
      "required": true,
      "accepts_empty": false,
      "tested_at": "2025-01-06"
    }
  }
}
```

**이점**
- ✅ 한 곳만 보면 모든 정보를 알 수 있음
- ✅ 문서와 실제 동작을 비교할 수 있음
- ✅ 나중에 변경사항 추적 가능

---

### 2단계: 자동 검증 시스템 구축

#### 방법 A: 스마트 테스트 케이스 자동 생성

**기본 아이디어: 사람이 테스트하는 방식을 자동화**

**1. Required 필드 테스트**
```
규칙: Required로 표시된 필드는 반드시 있어야 함

자동 생성되는 테스트:
- ✅ 모든 필드 포함 → 성공 예상
- ❌ LCNAME 누락 → 에러 예상
- ❌ TYPE 누락 → 에러 예상
```

**2. Optional 필드 테스트**
```
규칙: Optional 필드는 없어도 됨

자동 생성되는 테스트:
- ✅ GROUP_NAME 없이 전송 → 성공 예상
- ✅ GROUP_NAME 포함 → 성공 예상
```

**3. 타입 검증 테스트**
```
규칙: 타입이 맞지 않으면 에러

자동 생성되는 테스트:
- ❌ LCNAME에 숫자 전송 → 에러 예상
- ❌ TYPE에 배열 전송 → 에러 예상
```

**4. Enum 값 테스트**
```
규칙: Enum에 정의된 값만 허용

TYPE: ["CONLOAD", "UNILOAD", "TRALOAD", ...]

자동 생성되는 테스트:
- ✅ TYPE = "CONLOAD" → 성공
- ✅ TYPE = "UNILOAD" → 성공
- ❌ TYPE = "INVALID" → 에러 예상
```

**5. Boundary 테스트**
```
규칙: 경계값 테스트

max_length가 50이라면:
- ✅ 길이 1 → 성공
- ✅ 길이 50 → 성공
- ❌ 길이 51 → 에러 예상
- ❌ 길이 0 → 에러 예상
```

**자동 생성 예시**
```
입력: LCNAME 스펙
  - type: string
  - required: true
  - max_length: 50

자동 생성되는 테스트 케이스:
1. 정상 케이스: "CONLOAD_03"
2. 필수 누락: LCNAME 제거
3. 타입 오류: 123 (숫자)
4. 경계값: 50자 문자열
5. 경계 초과: 51자 문자열
6. 빈 문자열: ""
```

#### 방법 B: 실제 vs 기대 자동 비교

**프로세스**
```
1. 테스트 실행
   Request: { "LCNAME": "TEST" }  (Required 누락 테스트)
   Expected: Error
   
2. 실제 API 호출
   
3. 응답 확인
   Actual: Success (200 OK)
   
4. 불일치 감지!
   Expected: Error
   Actual: Success
   → 이슈 자동 생성: "LCNAME이 Optional일 가능성"
```

**자동 판단 로직**
```
IF (문서에 "Required"라고 되어 있음)
  AND (필드 없이 보냈을 때 성공함)
THEN
  → 불일치 발견!
  → "문서에는 Required지만 실제로는 Optional"
  
IF (문서에 "Optional"이라고 되어 있음)
  AND (필드 없이 보냈을 때 에러남)
THEN
  → 불일치 발견!
  → "문서에는 Optional이지만 실제로는 Required"
```

#### 방법 C: 배치 실행으로 전체 자동 검증

**시나리오 1: 야간 자동 검증**
```
저녁 9시 (자동 실행)
  ↓
모든 API (440개) 자동 테스트
  ↓
아침 9시에 리포트 확인
  - ✅ 380개 통과
  - ❌ 23개 실패
  - 💥 37개 에러
  ↓
실패/에러 항목만 집중 검토
```

**시나리오 2: API 업데이트 후 검증**
```
개발자가 API 수정
  ↓
Git Push
  ↓
자동으로 테스트 실행
  ↓
변경사항 영향 받는 테스트만 실행
  ↓
결과를 Slack/Email로 알림
```

**자동화의 이점**
- 🕐 시간 절약: 73시간 → 1시간 (자동)
- 🎯 정확도: 사람 실수 제거
- 🔄 반복 가능: 언제든 다시 실행 가능
- 📊 이력 추적: 모든 결과 자동 기록

---

### 3단계: 편리한 인터페이스로 만들기

#### 방법 A: 한눈에 보이는 대시보드

**핵심 원칙: 복잡한 정보를 간단하게**

**대시보드 구성**
```
┌─────────────────────────────────────────┐
│ 오늘의 상태                              │
│                                          │
│ ⚡ 검증된 API: 385/441 (87%)            │
│ ⚠️  주의 필요: 23개                     │
│ 🔥 긴급 이슈: 3개                       │
│                                          │
│ [자세히 보기]                            │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ 최근 발견된 문제                         │
│                                          │
│ 🔴 LINEBMLD - GROUP_NAME 필수/선택 불일치│
│    문서: Optional                        │
│    실제: Required                        │
│    [수정하기] [이슈 생성]                │
│                                          │
│ 🟡 PJCF - 최대 길이 미기재              │
│    문서: 제한 없음                       │
│    실제: 50자 제한                       │
│    [수정하기] [이슈 생성]                │
└─────────────────────────────────────────┘

핵심: 클릭 한 번으로 문제 해결 가능
```

#### 방법 B: 실시간 테스트 도구 (통합 워크스페이스)

**핵심 아이디어: 4개 탭으로 모든 정보를 한 화면에**

```
┌─────────────────────────────────────────────────────────────────┐
│ LINEBMLD API - Line Beam Load                                   │
├─────────────────────────────────────────────────────────────────┤
│ [① 제품 샘플] [② Zendesk 매뉴얼] [③ API 구조] [④ 실시간 테스트]│
└─────────────────────────────────────────────────────────────────┘
```

**① 제품 샘플 파일 탭**
```
┌──────────────────────────────────────────────────────────┐
│ MIDAS 제품에서 실제로 사용하는 파일                        │
├──────────────────────────────────────────────────────────┤
│ [샘플 파일 업로드] 또는 [제품에서 직접 가져오기]           │
│                                                           │
│ 📁 Sample_01.mcb                                         │
│ {                                                         │
│   "LINEBMLD": {                                          │
│     "1": {                                               │
│       "LCNAME": "LIVE_LOAD",                            │
│       "GROUP_NAME": "LoadGroup1",  ← 제품에서는 항상 있음 │
│       "TYPE": "CONLOAD",                                 │
│       "TARGET": { ... }                                  │
│     }                                                    │
│   }                                                      │
│ }                                                        │
│                                                           │
│ 📁 Sample_02.mcb                                         │
│ {                                                         │
│   "LINEBMLD": {                                          │
│     "1": {                                               │
│       "LCNAME": "DEAD_LOAD",                            │
│       "GROUP_NAME": "",          ← 빈 값으로 있음         │
│       "TYPE": "UNILOAD",                                 │
│       ...                                                │
│     }                                                    │
│   }                                                      │
│ }                                                        │
│                                                           │
│ 💡 발견: 제품 파일에서는 GROUP_NAME이 항상 포함됨         │
│    (빈 문자열이라도 키는 존재)                             │
└──────────────────────────────────────────────────────────┘
```

**② Zendesk 매뉴얼 탭**
```
┌──────────────────────────────────────────────────────────┐
│ 원본 Zendesk 문서                                         │
├──────────────────────────────────────────────────────────┤
│ 📄 JSON Schema                                           │
│ {                                                         │
│   "GROUP_NAME": {                                        │
│     "type": "string"                                     │
│   }                                                      │
│ }                                                        │
│                                                           │
│ 📊 Specifications 테이블                                 │
│ ┌────────────────────────────────────────────┐          │
│ │ No. │ Description    │ Key        │ Required│          │
│ ├────────────────────────────────────────────┤          │
│ │  2  │ Load Group Name│GROUP_NAME  │ Optional│          │
│ └────────────────────────────────────────────┘          │
│                                                           │
│ 📝 Request Examples (5개)                                │
│ Example 1: GROUP_NAME 포함 ✓                            │
│ Example 2: GROUP_NAME 포함 ✓                            │
│ Example 3: GROUP_NAME 포함 ✓                            │
│ Example 4: GROUP_NAME 누락 ✗                            │
│ Example 5: GROUP_NAME 포함 ✓                            │
│                                                           │
│ 💡 문서 분석:                                             │
│    - 테이블: Optional                                    │
│    - 예제: 80% 포함 (4/5)                                │
└──────────────────────────────────────────────────────────┘
```

**③ API 구조 탭**
```
┌──────────────────────────────────────────────────────────┐
│ API 구조 & 메서드                                         │
├──────────────────────────────────────────────────────────┤
│ Endpoint: /ope/LINEBMLD                                  │
│ Methods:  [GET] [POST] [PUT] [DELETE]                    │
│                                                           │
│ ▼ POST - Create/Update Beam Load                         │
│   Request Body:                                          │
│   {                                                      │
│     "Argument": {                                        │
│       "LCNAME": {                                        │
│         type: "string",                                  │
│         required: true,          ← 확실함                │
│         tested: 100% (200/200)                           │
│       },                                                 │
│       "GROUP_NAME": {                                    │
│         type: "string",                                  │
│         required: ??? ⚠️         ← 불확실!               │
│         doc_says: "optional",                            │
│         actual: "required",                              │
│         confidence: 95% (190/200 failed without it)      │
│       },                                                 │
│       "TYPE": {                                          │
│         type: "string",                                  │
│         enum: [...],                                     │
│         required: true,          ← 확실함                │
│         tested: 100%                                     │
│       }                                                  │
│     }                                                    │
│   }                                                      │
│                                                           │
│ ▼ GET - Retrieve Beam Load                              │
│   Response:                                              │
│   {                                                      │
│     "LINEBMLD": { ... }                                 │
│   }                                                      │
└──────────────────────────────────────────────────────────┘
```

**④ 실시간 테스트 탭 (인터랙티브)**
```
┌──────────────────────────────────────────────────────────┐
│ 🧪 Interactive Tester                                    │
├──────────────────────────────────────────────────────────┤
│                                                           │
│ Method: [POST ▼]  URL: /ope/LINEBMLD   [▶ Run Test]    │
│                                                           │
│ Request Body:                    │ 파라미터 토글          │
│ ┌──────────────────────────────┐ │ ┌──────────────────┐ │
│ │ {                             │ │ │ ☑ LCNAME        │ │
│ │   "Argument": {               │ │ │   Required ✓    │ │
│ │     "LCNAME": "TEST_01", ←───┼─┼─│                  │ │
│ │                               │ │ │                  │ │
│ │     "GROUP_NAME": "",    ←───┼─┼─│ ☑ GROUP_NAME    │ │
│ │          ↑ 여기를 바꿔가며 테스트 │ │   Optional ?    │ │
│ │                               │ │ │   [토글 on/off] │ │
│ │     "TYPE": "CONLOAD",   ←───┼─┼─│                  │ │
│ │     ...                       │ │ │ ☑ TYPE          │ │
│ │   }                           │ │ │   Required ✓    │ │
│ │ }                             │ │ │                  │ │
│ └──────────────────────────────┘ │ │ ☑ TARGET        │ │
│                                   │ │   Required ✓    │ │
│ 빠른 테스트:                       │ └──────────────────┘ │
│ [전체 필드 포함]                    │                     │
│ [Required만 포함]                  │                     │
│ [GROUP_NAME 제거] ← 클릭           │                     │
│ [GROUP_NAME 빈값]                 │                     │
│                                   │                     │
│ ─────────────────────────────────────────────────────── │
│                                                           │
│ Response:                         Status: 400 Bad Request│
│ ┌──────────────────────────────────────────────────────┐ │
│ │ {                                                     │ │
│ │   "error": "GROUP_NAME is required"                  │ │
│ │ }                                                     │ │
│ └──────────────────────────────────────────────────────┘ │
│                                                           │
│ 📊 테스트 결과 요약:                                      │
│ ┌──────────────────────────────────────────────────────┐ │
│ │ Test Case              │ Result │ Time   │ Action    │ │
│ ├──────────────────────────────────────────────────────┤ │
│ │ 전체 필드 포함          │ ✅ 200  │ 145ms  │ [재실행]  │ │
│ │ Required만             │ ✅ 200  │ 132ms  │ [재실행]  │ │
│ │ GROUP_NAME 제거        │ ❌ 400  │ 98ms   │ [재실행]  │ │
│ │ GROUP_NAME 빈값        │ ✅ 200  │ 156ms  │ [재실행]  │ │
│ └──────────────────────────────────────────────────────┘ │
│                                                           │
│ 💡 자동 분석:                                             │
│    GROUP_NAME을 완전히 제거하면 실패                      │
│    빈 문자열("")로 보내면 성공                            │
│    → 결론: Required지만 빈값 허용                         │
│                                                           │
│ [문서 업데이트 제안] [이슈 생성] [테스트 케이스 저장]      │
└──────────────────────────────────────────────────────────┘
```

**사용 시나리오: Required/Optional 검증**

```
Step 1: 문제 발견
  ② Zendesk 탭: "GROUP_NAME은 Optional"
  ① 제품 샘플 탭: "모든 파일에 GROUP_NAME 있음"
  → 🤔 실제로는 어떨까?

Step 2: 빠른 테스트
  ④ 실시간 테스트 탭으로 이동
  
  테스트 1: [전체 필드 포함] 클릭
    → ✅ 성공 (예상대로)
  
  테스트 2: [GROUP_NAME 제거] 클릭
    → ❌ 실패! "GROUP_NAME is required"
  
  테스트 3: [GROUP_NAME 빈값] 클릭
    → ✅ 성공 (흥미롭게도!)

Step 3: 결론 도출
  💡 자동 분석이 알려줌:
  "GROUP_NAME은 Required이지만 빈 문자열 허용"
  
  문서 수정 제안:
  Before: "Optional"
  After: "Required (빈 문자열 허용)"

Step 4: 액션
  [문서 업데이트 제안] 클릭
  → PR 자동 생성 또는 이슈 등록
```

**자동 완성 기능**
```
사용자가 타이핑하면:
"LC [입력 중...]
  ↓
자동완성 제안:
  - LCNAME (Required, String)
  - 예시: "CONLOAD_03"

잘못된 값 입력 시:
"TYPE": "INVALID"
  ↓
즉시 경고:
⚠️  "INVALID"는 허용되지 않는 값입니다
    허용 값: CONLOAD, UNILOAD, TRALOAD...
```

#### 방법 C: 비교 뷰로 차이점 명확하게 표시

**불일치 항목 표시 방법**
```
┌────────────────────────────────────────────────────────┐
│ LINEBMLD - GROUP_NAME 파라미터                          │
├────────────────────────────────────────────────────────┤
│                                                         │
│ 📄 문서에서는                   🔬 실제로는              │
│ ┌────────────────────┐       ┌──────────────────────┐ │
│ │ Optional           │       │ Required             │ │
│ │ Default: ""        │   ≠   │ 없으면 에러 발생      │ │
│ │ 생략 가능          │       │ 반드시 포함 필요      │ │
│ └────────────────────┘       └──────────────────────┘ │
│                                                         │
│ 📊 테스트 결과 (100회 실행)                             │
│  - GROUP_NAME 없이: 100% 실패                           │
│  - GROUP_NAME 포함: 100% 성공                           │
│                                                         │
│ 💡 추천 조치:                                           │
│  ☐ 문서를 "Required"로 수정                             │
│  ☐ API를 Optional로 작동하도록 수정                     │
│                                                         │
│ [문서 수정 PR 생성] [개발팀에 이슈 생성]                │
└────────────────────────────────────────────────────────┘
```

---

## 🎨 핵심 UI: 4탭 통합 워크스페이스

### 설계 철학: "모든 정보를 한 화면에"

**문제점**
```
현재는 정보가 흩어져 있음:
- 제품 파일은 로컬에
- 문서는 Zendesk에  
- 테스트는 Postman에
- 결과는 엑셀에

→ 창을 여러 개 열고 왔다갔다 해야 함
```

**해결책: 4탭 통합 인터페이스**

### 탭별 상세 기능

#### 📁 탭 1: 제품 샘플 파일

**목적: 실제 제품에서 사용하는 데이터 확인**

**기능**
```
1. 파일 업로드
   - 드래그 & 드롭
   - .mcb, .mct, .json 파일 지원
   - 여러 파일 동시 업로드

2. 자동 파싱
   - API별로 자동 분류
   - 사용 빈도 분석
   - 패턴 감지

3. 통계 분석
   ┌────────────────────────────────────┐
   │ GROUP_NAME 사용 현황               │
   ├────────────────────────────────────┤
   │ 전체 파일: 50개                    │
   │ GROUP_NAME 포함: 50개 (100%)       │
   │ - 값 있음: 48개 (96%)              │
   │ - 빈 문자열: 2개 (4%)              │
   │ - 완전 누락: 0개 (0%)              │
   │                                    │
   │ 💡 패턴: 항상 키는 존재함          │
   └────────────────────────────────────┘

4. 차이점 하이라이트
   파일 간 차이를 자동으로 표시
```

**사용 예시**
```
상황: LCNAME이 정말 50자 제한이 있는지 확인

1. 샘플 파일 50개 업로드
2. 자동 분석 결과:
   - 최소 길이: 3자
   - 최대 길이: 28자
   - 평균 길이: 12자
   
3. 결론:
   💡 실제 사용에서는 50자를 넘는 경우가 없음
   → 문서의 50자 제한이 맞는 것으로 추정
```

---

#### 📚 탭 2: Zendesk 매뉴얼

**목적: 공식 문서 내용 확인**

**표시 내용**
```
1. JSON Schema (원본)
   - 구문 하이라이트
   - 접기/펼치기
   - 복사 버튼

2. Specifications 테이블
   - 정렬 가능
   - 필터링
   - Required/Optional 하이라이트

3. Request Examples
   - 모든 예제 목록
   - 실행 가능 (탭4로 복사)
   - 패턴 분석

4. 불일치 경고
   ⚠️  이 문서의 내용이 실제와 다를 수 있습니다:
   - GROUP_NAME: Optional → 실제는 Required
   - 신뢰도: 95% (테스트 결과 기반)
```

**비교 기능**
```
┌─ Zendesk 문서 ────────┬─ 실제 동작 ──────────┐
│ GROUP_NAME            │ GROUP_NAME           │
│ - Type: String        │ - Type: String ✓    │
│ - Required: Optional  │ - Required: Yes ✗   │
│ - Default: -          │ - Default: "" ✓     │
└───────────────────────┴─────────────────────┘
         차이점을 색상으로 표시
```

---

#### 🔧 탭 3: API 구조 (GET/POST/PUT/DELETE)

**목적: 각 메서드별 상세 정보**

**레이아웃**
```
좌측: 메서드 리스트      우측: 선택된 메서드 상세
┌────────────────┐     ┌──────────────────────────┐
│ ✓ GET          │     │ GET /ope/LINEBMLD       │
│ ✓ POST         │     │                          │
│ ✗ PUT          │     │ Parameters:              │
│ ✗ DELETE       │     │ - id: Integer (required) │
│                │     │                          │
│                │     │ Response:                │
│                │     │ {                        │
│                │     │   "LINEBMLD": { ... }   │
│                │     │ }                        │
│                │     │                          │
│                │     │ [Try GET Request]        │
└────────────────┘     └──────────────────────────┘
```

**POST 메서드 상세**
```
┌──────────────────────────────────────────────────┐
│ POST /ope/LINEBMLD                               │
├──────────────────────────────────────────────────┤
│                                                  │
│ Body Parameters (계층 구조):                     │
│ ▼ Argument                     Object Required  │
│   ├─ LCNAME                    String Required  │
│   │  ├─ Validation: 1-50 chars                 │
│   │  ├─ Pattern: ^[A-Za-z0-9_]+$              │
│   │  └─ 테스트: ✅ 200/200 (100%)              │
│   │                                             │
│   ├─ GROUP_NAME                String Required? │
│   │  ├─ Doc says: Optional                     │
│   │  ├─ 실제: Required (빈값 허용)             │
│   │  ├─ 테스트: ⚠️  190/200 (95%)              │
│   │  └─ [상세 보기]                             │
│   │                                             │
│   ├─ TYPE                      String Required  │
│   │  ├─ Enum: [CONLOAD, UNILOAD, ...]         │
│   │  └─ 테스트: ✅ 200/200 (100%)              │
│   │                                             │
│   ├─▶ TARGET                   Object Required  │
│   │   ├─ METHOD                Integer Required │
│   │   ├─ ELEM                  Array Optional   │
│   │   └─ NODE                  Array Required   │
│   │                                             │
│   └─▶ LOAD                     Object Required  │
│       ├─ DIR                   String Required  │
│       ├─ TYPE                  Integer Required │
│       └─ ...                                    │
│                                                  │
│ 각 파라미터 클릭 시 우측에 상세 정보 표시       │
└──────────────────────────────────────────────────┘
```

**파라미터별 상세 정보**
```
클릭: GROUP_NAME
┌──────────────────────────────────────────────┐
│ GROUP_NAME                                   │
├──────────────────────────────────────────────┤
│ 기본 정보:                                   │
│ - Type: String                               │
│ - Path: Argument.GROUP_NAME                  │
│                                              │
│ 문서 정의:                                   │
│ - Required: Optional ⚠️                      │
│ - Default: -                                 │
│                                              │
│ 실제 동작:                                   │
│ - Required: Yes (95% 확신)                  │
│ - 빈값 허용: Yes                            │
│ - Default: ""                                │
│                                              │
│ 테스트 결과:                                 │
│ - 포함: 200/200 성공 (100%)                 │
│ - 제거: 0/200 성공 (0%)                     │
│ - 빈값: 200/200 성공 (100%)                 │
│                                              │
│ 제품 샘플 통계:                              │
│ - 50개 파일 중 50개 포함 (100%)             │
│ - 평균 길이: 12자                            │
│                                              │
│ 💡 권장 조치:                                │
│    문서를 "Required (빈값 허용)"으로 수정    │
│                                              │
│ [문서 수정 제안] [테스트 더 실행]            │
└──────────────────────────────────────────────┘
```

---

#### 🧪 탭 4: 실시간 테스트

**목적: 즉시 테스트하고 결과 확인**

**핵심 기능: 파라미터 토글**

```
┌─────────────────────────────────────────────────────┐
│ 🎛️  파라미터 제어판                                 │
├─────────────────────────────────────────────────────┤
│                                                      │
│ ☑ LCNAME              [자동 생성 ▼]  "TEST_001"    │
│   Required ✓          실제 값 입력 또는 자동 생성   │
│                                                      │
│ ☑ GROUP_NAME          [토글 ▼]                      │
│   Optional?           • 포함 (값 있음)              │
│   [상세 ▼]            • 포함 (빈값)     ← 선택     │
│                       • 제외                         │
│                                                      │
│ ☑ TYPE                [CONLOAD ▼]                   │
│   Required ✓          드롭다운에서 선택              │
│                                                      │
│ ☑ TARGET              [펼치기 ▼]                    │
│   Required ✓          └─ METHOD: [0 ▼]             │
│                       └─ NODE: [23, 33]            │
│                                                      │
│ ☑ LOAD                [펼치기 ▼]                    │
│   Required ✓                                        │
│                                                      │
│ [빠른 테스트]                                        │
│ • 모든 필드 포함 (Success 예상)                     │
│ • Required만 (Success 예상)                         │
│ • GROUP_NAME 제거 (Error 예상? 테스트!)            │
│ • GROUP_NAME 빈값 (Success? Error? 테스트!)        │
│                                                      │
└─────────────────────────────────────────────────────┘

실시간 JSON 미리보기:
┌─────────────────────────────────────────────────────┐
│ {                                                    │
│   "Argument": {                                      │
│     "LCNAME": "TEST_001",                           │
│     "GROUP_NAME": "",        ← 토글 결과 반영       │
│     "TYPE": "CONLOAD",                              │
│     "TARGET": { ... }                                │
│   }                                                  │
│ }                                                    │
│                                                      │
│ Validation: ✅ Schema Valid                         │
│                                                      │
│ [▶ Run Test]  [💾 Save as Test Case]               │
└─────────────────────────────────────────────────────┘

테스트 실행 결과:
┌─────────────────────────────────────────────────────┐
│ Response: 200 OK (143ms)                            │
│ {                                                    │
│   "LINEBMLD": {                                     │
│     "1": { ... }                                    │
│   }                                                  │
│ }                                                    │
│                                                      │
│ ✅ 성공! GROUP_NAME을 빈값으로 보내도 작동합니다.   │
│                                                      │
│ 이제 GROUP_NAME을 제거하고 테스트해볼까요?          │
│ [GROUP_NAME 제거하고 재실행]                        │
└─────────────────────────────────────────────────────┘
```

**Batch Testing (일괄 테스트)**
```
┌─────────────────────────────────────────────────────┐
│ 📊 Batch Test Configuration                         │
├─────────────────────────────────────────────────────┤
│                                                      │
│ GROUP_NAME 파라미터 집중 테스트:                     │
│                                                      │
│ 자동 생성될 테스트:                                  │
│ ✓ Test 1: 값 있음 ("LoadGroup1")                   │
│ ✓ Test 2: 빈값 ("")                                 │
│ ✓ Test 3: 완전 제거 (키 없음)                       │
│ ✓ Test 4: null 값                                   │
│ ✓ Test 5: 매우 긴 값 (255자)                        │
│ ✓ Test 6: 특수문자 포함                             │
│                                                      │
│ [🚀 6개 테스트 실행] (예상 시간: 1분)               │
│                                                      │
│ 실행 결과:                                           │
│ ┌──────────────────────────────────┬────────────┐  │
│ │ Test Case                        │ Result     │  │
│ ├──────────────────────────────────┼────────────┤  │
│ │ 1. 값 있음                        │ ✅ 200 OK  │  │
│ │ 2. 빈값                           │ ✅ 200 OK  │  │
│ │ 3. 완전 제거                      │ ❌ 400 Err │  │
│ │ 4. null 값                        │ ❌ 400 Err │  │
│ │ 5. 매우 긴 값                     │ ✅ 200 OK  │  │
│ │ 6. 특수문자 포함                  │ ✅ 200 OK  │  │
│ └──────────────────────────────────┴────────────┘  │
│                                                      │
│ 💡 자동 결론:                                        │
│    GROUP_NAME은 Required                            │
│    빈 문자열("")은 허용                             │
│    null 또는 키 없음은 불허                         │
│                                                      │
│ [결과 저장] [문서 수정 제안] [이슈 생성]             │
└─────────────────────────────────────────────────────┘
```

---

### 4탭 간 연동

**시나리오: 통합 워크플로우**

```
Step 1: 제품 샘플에서 발견
  📁 탭1: "모든 파일에 GROUP_NAME 있네?"
  [탭2로 이동] 버튼 클릭

Step 2: 문서 확인
  📚 탭2: "어? 문서에는 Optional이라고 되어있음"
  [탭4에서 테스트] 버튼 클릭

Step 3: 실제 테스트
  🧪 탭4: GROUP_NAME 토글로 테스트
  - 포함: ✅ 성공
  - 제거: ❌ 실패 "GROUP_NAME is required"
  [API 구조에서 확인] 버튼 클릭

Step 4: 구조 분석
  🔧 탭3: 
  - 문서: Optional
  - 실제: Required (95% 확신)
  - 테스트: 0/200 성공 (완전 제거 시)
  
  💡 결론: 문서가 틀렸음!
  [문서 수정 제안] 클릭
```

**자동 연동 기능**
```
탭1 → 탭2: 
  파일에서 발견된 패턴을 탭2에 표시
  "이 파라미터는 파일에서 100% 사용됨"

탭2 → 탭4:
  예제를 클릭하면 탭4에 자동으로 로드
  즉시 테스트 가능

탭4 → 탭3:
  테스트 결과가 탭3의 통계에 자동 반영
  "Required: 95% 확신 (190/200)"

탭3 → 탭1:
  API 구조 정보를 탭1의 파일 분석에 활용
  "이 필드는 실제로 Required"
```

---

## 🔄 워크플로우: GET/POST/PUT/DELETE별 검증

### GET 메서드 검증

```
┌─────────────────────────────────────────────────┐
│ GET /ope/LINEBMLD                               │
├─────────────────────────────────────────────────┤
│                                                 │
│ Query Parameters:                               │
│ ☑ id          [1 ▼]     Integer Required      │
│ ☐ filter      [  ]      String  Optional       │
│                                                 │
│ [▶ Get Data]                                   │
│                                                 │
│ Response 분석:                                  │
│ ✅ 응답 받음 (98ms)                            │
│ {                                               │
│   "LINEBMLD": {                                │
│     "1": {                                     │
│       "LCNAME": "LIVE_LOAD",                  │
│       "GROUP_NAME": "LoadGroup1",             │
│       ...                                      │
│     }                                          │
│   }                                            │
│ }                                               │
│                                                 │
│ 💡 발견:                                        │
│    응답에서 GROUP_NAME이 항상 포함됨           │
│    → POST할 때도 필요할 가능성 높음            │
└─────────────────────────────────────────────────┘
```

### POST 메서드 검증 (위에서 설명함)

### PUT 메서드 검증

```
┌─────────────────────────────────────────────────┐
│ PUT /ope/LINEBMLD/{id}                          │
├─────────────────────────────────────────────────┤
│                                                 │
│ Path Parameter:                                 │
│ • id: 1                                         │
│                                                 │
│ Body (부분 업데이트):                           │
│ ☑ LCNAME          [수정할 필드만 체크]          │
│ ☐ GROUP_NAME                                    │
│ ☐ TYPE                                          │
│                                                 │
│ {                                               │
│   "LCNAME": "LIVE_LOAD_UPDATED"               │
│ }                                               │
│                                                 │
│ [▶ Update]                                     │
│                                                 │
│ 테스트 질문:                                    │
│ Q: GROUP_NAME을 보내지 않으면?                 │
│ A: [테스트 실행] → 기존 값 유지 ✓              │
│                                                 │
│ Q: GROUP_NAME=""로 보내면?                     │
│ A: [테스트 실행] → 빈값으로 업데이트 ✓         │
└─────────────────────────────────────────────────┘
```

### DELETE 메서드 검증

```
┌─────────────────────────────────────────────────┐
│ DELETE /ope/LINEBMLD/{id}                       │
├─────────────────────────────────────────────────┤
│                                                 │
│ Path Parameter:                                 │
│ • id: [1 ▼]                                    │
│                                                 │
│ [🗑️  Delete]                                   │
│                                                 │
│ 확인:                                           │
│ □ 정말 삭제하시겠습니까?                        │
│                                                 │
│ 응답:                                           │
│ ✅ 204 No Content                               │
│                                                 │
│ 검증:                                           │
│ [GET으로 확인] → 404 Not Found ✓               │
│ → 삭제 성공 확인됨                              │
└─────────────────────────────────────────────────┘
```

---

## 💾 테스트 케이스 저장 및 재사용

### 저장 기능

```
테스트 완료 후:

[💾 Save as Test Case]
┌─────────────────────────────────────────────┐
│ 테스트 케이스 저장                           │
├─────────────────────────────────────────────┤
│                                              │
│ Name: GROUP_NAME_빈값_테스트                │
│                                              │
│ Category: [Positive Test ▼]                 │
│                                              │
│ Description:                                 │
│ GROUP_NAME을 빈 문자열로 보내면             │
│ 성공하는지 확인                              │
│                                              │
│ Tags: [GROUP_NAME] [Required] [Edge Case]   │
│                                              │
│ Expected Result: ✅ 200 OK                  │
│                                              │
│ [저장]  [저장 후 계속 테스트]                │
└─────────────────────────────────────────────┘

저장된 테스트는:
- 언제든 재실행 가능
- 자동 테스트에 포함
- 팀원과 공유 가능
```

### 테스트 스위트 구성

```
┌─────────────────────────────────────────────┐
│ 📋 Test Suites                              │
├─────────────────────────────────────────────┤
│                                              │
│ ▼ LINEBMLD API                              │
│   ├─ ✅ Positive Tests (12)                 │
│   │   ├─ 전체 필드 포함                     │
│   │   ├─ GROUP_NAME 빈값                    │
│   │   └─ ...                                │
│   │                                          │
│   ├─ ❌ Negative Tests (8)                  │
│   │   ├─ LCNAME 누락                        │
│   │   ├─ GROUP_NAME 누락                    │
│   │   ├─ 잘못된 TYPE                        │
│   │   └─ ...                                │
│   │                                          │
│   └─ ⚠️  Edge Cases (6)                     │
│       ├─ 매우 긴 LCNAME                     │
│       ├─ 특수문자 포함                      │
│       └─ ...                                │
│                                              │
│ [▶ Run All] [▶ Run Selected]               │
│ [📊 View Report] [📤 Export]                │
└─────────────────────────────────────────────┘
```

---

### 워크플로우 1: 신규 API 검증

```
1️⃣ API 문서 업로드
   파일 드래그 & 드롭
   또는 Zendesk URL 입력
   
2️⃣ 자동 파싱 (10초)
   ✓ 스키마 추출 완료
   ✓ 파라미터 23개 인식
   ✓ 예제 5개 발견
   
3️⃣ 자동 검증 (1-2분)
   테스트 케이스 자동 생성 중...
   ⚡ 생성 완료: 45개 테스트
   
   테스트 실행 중...
   ⚡ 실행 완료: 42/45 통과
   
4️⃣ 결과 확인
   실패한 3개 항목:
   - TC_012: GROUP_NAME Optional 검증 실패
   - TC_023: 최대 길이 검증 실패  
   - TC_034: Enum 값 검증 실패
   
5️⃣ 이슈 자동 생성
   3개 이슈가 자동으로 등록됨
   담당자에게 알림 발송됨
   
✅ 완료: API 검증 완료 및 이슈 추적 시작
```

**소요 시간**
- 수동: 30분~1시간
- 자동: 2~3분

---

### 워크플로우 2: 전체 API 정기 검증

```
🌙 매일 밤 자동 실행

23:00 - 검증 시작
  ↓
DOC 카테고리 (11개) ━━━━━ 5분
  ✓ 11개 모두 통과
  
DB 카테고리 (246개) ━━━━━ 35분
  ✓ 238개 통과
  ⚠️ 5개 경고
  ❌ 3개 실패
  
OPE 카테고리 (13개) ━━━━━ 3분
  ✓ 10개 통과
  ❌ 3개 실패
  
VIEW 카테고리 (40개) ━━━━━ 8분
  ✓ 40개 모두 통과
  
POST 카테고리 (131개) ━━━━━ 18분
  ✓ 126개 통과
  ❌ 5개 실패

00:09 - 검증 완료 (69분 소요)

00:10 - 리포트 생성
  PDF 리포트 생성
  요약 이메일 발송
  Slack 알림 발송

☀️ 아침 9시
  팀원들이 출근해서 리포트 확인
  실패 항목만 집중 검토
```

---

### 워크플로우 3: 문서-실제 불일치 발견 시

```
🔍 불일치 자동 감지
  
감지: GROUP_NAME 파라미터 불일치
├─ 문서: Optional
└─ 실제: Required (100% 확률)

↓

📝 이슈 자동 생성
  제목: [LINEBMLD] GROUP_NAME 필수/선택 불일치
  우선순위: Medium (자동 판단)
  카테고리: Documentation Error
  
  상세 내용:
  - 문서 정의: Optional
  - 실제 동작: Required
  - 증거: 100회 테스트 중 100회 실패
  - 영향 범위: 해당 API 사용하는 모든 클라이언트
  
↓

👥 자동 할당
  - 문서 담당자에게 알림
  - API 개발자에게 참조
  - QA 팀에게 알림

↓

🔧 해결 옵션 제시
  Option 1: 문서 수정
    → [PR 자동 생성] 버튼
    
  Option 2: API 수정  
    → [Jira 이슈 생성] 버튼
    
↓

✅ 해결 후 자동 재검증
  수정 완료 → 자동으로 테스트 재실행 → 통과 확인
```

---

## 🚀 단계별 도입 계획

### Phase 1: 기본 자동화 (1개월)

**목표: 수동 작업을 절반으로 줄이기**

#### 구현할 것
1. ✅ HTML 문서 자동 파싱
2. ✅ 통합 스펙 데이터베이스 구축
3. ✅ 기본 테스트 케이스 자동 생성
4. ✅ 간단한 웹 인터페이스

#### 기대 효과
```
Before: 440개 API 검증 = 73시간
After:  440개 API 검증 = 5시간 (설정) + 자동 실행
→ 93% 시간 절감
```

#### 실제 사용
```
1. 파일 업로드
2. [파싱 시작] 클릭
3. [테스트 생성] 클릭
4. [테스트 실행] 클릭
5. 결과 확인
```

---

### Phase 2: 스마트 검증 (1개월)

**목표: 불일치를 자동으로 찾아내기**

#### 구현할 것
1. ✅ 문서 vs 실제 자동 비교
2. ✅ 불일치 자동 감지 알고리즘
3. ✅ 이슈 자동 생성
4. ✅ 비교 뷰 인터페이스

#### 기대 효과
```
Before: 불일치를 찾으려면 모든 API를 수동 테스트
After:  불일치가 자동으로 감지되어 리포트로 제공
→ 숨어있던 문제 20~30개 발견 예상
```

#### 실제 사용
```
매일 자동으로:
1. 전체 API 테스트 실행
2. 불일치 항목 감지
3. 리포트 이메일 발송
4. 우선순위 높은 것부터 검토
```

---

### Phase 3: 지능형 플랫폼 (1개월)

**목표: 협업 및 추적 자동화**

#### 구현할 것
1. ✅ 실시간 API 테스터
2. ✅ 이슈 추적 시스템
3. ✅ 변경 이력 관리
4. ✅ 대시보드 및 통계

#### 기대 효과
```
Before: 
- 이슈를 찾아도 추적 어려움
- 누가 무엇을 수정했는지 불명확
- 전체 상태 파악 어려움

After:
- 모든 이슈가 추적됨
- 변경 이력이 자동 기록
- 대시보드에서 한눈에 파악
```

---

## 💰 비용 vs 효과 분석

### 투자 비용
```
개발 기간: 3개월
개발 인력: 2~3명
예상 비용: $$$$

인프라 비용: $$/월
유지보수: 1명 part-time
```

### 절감 효과 (연간)
```
1. 시간 절감
   Before: 주 1회 검증 × 8시간 × 52주 = 416시간/년
   After:  주 1회 검증 × 1시간 × 52주 = 52시간/년
   → 364시간 절감 (약 45일)

2. 품질 향상
   - 불일치 조기 발견
   - API 신뢰도 향상
   - 고객 불만 감소

3. 협업 효율
   - 명확한 이슈 추적
   - 빠른 의사소통
   - 책임 소재 명확

ROI: 3~6개월 내 투자 회수 예상
```

---

## 🎯 성공 지표

### 정량적 목표

#### 1단계 (Phase 1 완료 후)
- ✅ 검증 시간: 73시간 → 5시간 (93% 감소)
- ✅ 자동 테스트 커버리지: 80%+
- ✅ 파싱 정확도: 95%+

#### 2단계 (Phase 2 완료 후)  
- ✅ 불일치 발견: 20개 이상
- ✅ 이슈 자동 생성률: 90%+
- ✅ 거짓 양성률: 10% 이하

#### 3단계 (Phase 3 완료 후)
- ✅ 전체 API 검증 커버리지: 95%+
- ✅ 일일 자동 검증 실행
- ✅ 팀 사용률: 80%+

### 정성적 목표
- 개발자 만족도 향상
- 문서 품질 개선
- API 신뢰도 향상
- 협업 효율 증대

---

## 🤔 자주 묻는 질문

### Q1: 기존 문서를 다 다시 작성해야 하나요?
**A:** 아니요! 기존 HTML을 자동으로 파싱해서 임포트합니다. 수동 작업 없이 기존 440개 API가 모두 자동으로 등록됩니다.

### Q2: API가 업데이트되면 다시 등록해야 하나요?
**A:** 업데이트된 HTML만 다시 업로드하면 자동으로 변경사항이 감지되고 적용됩니다. 변경 이력도 자동으로 기록됩니다.

### Q3: 실제 API 서버에 부하를 주지 않나요?
**A:** 
- 테스트는 야간에 실행하거나
- 테스트 전용 서버 사용하거나
- 속도 제한을 설정할 수 있습니다

### Q4: 모든 불일치를 찾을 수 있나요?
**A:** 
- 명확한 불일치 (Required/Optional, 타입 등): 95%+ 감지
- 복잡한 비즈니스 로직: 수동 검토 필요
- 하지만 대부분의 문제는 자동으로 찾을 수 있습니다

### Q5: 개발자가 아닌 사람도 사용할 수 있나요?
**A:** 네! 
- 문서 담당자: 파싱 및 검증만 클릭
- QA: 테스트 실행 및 결과 확인
- PM: 대시보드로 현황 파악

---

## 📝 요약

### 핵심 아이디어
```
복잡한 수동 작업을 → 클릭 몇 번으로

1. 문서 업로드 → 자동 파싱
2. 수동 테스트 → 자동 검증
3. 불일치 찾기 → 자동 감지
4. 이슈 기록 → 자동 생성
5. 추적 관리 → 자동 업데이트
```

### 기대 효과
- ⚡ **93% 시간 절약**: 73시간 → 5시간
- 🎯 **높은 정확도**: 사람 실수 제거
- 🔍 **숨은 문제 발견**: 20~30개 불일치 자동 감지
- 📊 **명확한 추적**: 모든 이슈와 변경사항 기록
- 🤝 **협업 강화**: 명확한 책임과 빠른 해결

### 시작하기
```
Step 1: Phase 1 개발 시작 (1개월)
Step 2: 파일럿 테스트 (2주)
Step 3: 점진적 확대 (Phase 2, 3)
Step 4: 전사 도입
```

---

**다음 단계: 프로토타입 개발 착수** 🚀
