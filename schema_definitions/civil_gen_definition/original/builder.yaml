# Original Schema - Builder Tab Specific Rules
# Builder Tab ì „ìš© ë Œë”ë§ ë° ë™ì‘ ê·œì¹™

version: "1.0"
extends: "./ui-rules.yaml"

# ============================================================================
# Form Layout
# í¼ ë ˆì´ì•„ì›ƒ êµ¬ì¡°
# ============================================================================
formLayout:
  container:
    className: "bg-gradient-to-br from-purple-950/50 to-zinc-900 border-2 border-purple-800/50 rounded-lg p-6"
  
  title:
    text: "Schema-Based Fields"
    icon: "ğŸ“"
    className: "text-lg font-semibold mb-4"
  
  fieldContainer:
    className: "space-y-4"

# ============================================================================
# Field Rendering
# í•„ë“œë³„ ë Œë”ë§ ê·œì¹™
# ============================================================================
fieldRendering:
  # ì¼ë°˜ í•„ë“œ
  standard:
    label:
      className: "text-sm flex items-center gap-2"
      showRequired: true
      showDescription: true
      showType: true
    
    input:
      className: "bg-zinc-800 border-zinc-700"
      showPlaceholder: true
  
  # Enum í•„ë“œ
  enum:
    component: "Select"
    showEmptyOption: false
    optionFormat: "value"  # value | "value - label"
  
  # Array í•„ë“œ
  array:
    component: "Textarea"
    parseJson: true
    formatOnBlur: true
  
  # Object í•„ë“œ (ì¤‘ì²©)
  object:
    accordion: true
    checkbox: true
    expandByDefault: false
    style:
      border: "border-zinc-700 rounded-md bg-zinc-900/50"
      header: "flex items-center gap-2 p-3 bg-zinc-800/50"
      content: "p-4 space-y-3 bg-zinc-900/30"
      childBorder: "pl-4 border-l-2 border-zinc-700"

# ============================================================================
# Input Behavior
# ì…ë ¥ ë™ì‘ ê·œì¹™
# ============================================================================
inputBehavior:
  # ìë™ ì €ì¥
  autoSave:
    enabled: false
    debounce: 1000  # ms
  
  # ì…ë ¥ ê²€ì¦
  validation:
    trigger: "onChange"  # onChange | onBlur | onSubmit
    showErrors: "immediate"  # immediate | afterFirstSubmit
  
  # ê¸°ë³¸ê°’ ì²˜ë¦¬
  defaultValues:
    applyOnMount: true
    clearOnReset: true
  
  # íƒ€ì… ë³€í™˜
  typeCoercion:
    number: true  # ë¬¸ìì—´ì„ ìˆ«ìë¡œ ìë™ ë³€í™˜
    boolean: true
    array: true   # JSON íŒŒì‹±

# ============================================================================
# Instance Management (Assign Wrapper)
# ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬ (ì—¬ëŸ¬ ë…¸ë“œ ì…ë ¥)
# ============================================================================
instanceManagement:
  enabled: true
  wrapper: "Assign"
  defaultInstance: "1"
  
  ui:
    container:
      className: "bg-gradient-to-br from-blue-950/50 to-zinc-900 border-2 border-blue-800/50 rounded-lg p-4"
    
    title:
      text: "Assign Instances"
      icon: "ğŸ”¢"
      className: "text-sm font-semibold"
    
    buttons:
      add:
        text: "+ Add Instance"
        className: "h-7 text-xs bg-blue-600 hover:bg-blue-500"
      
      remove:
        icon: "ğŸ—‘ï¸"
        className: "p-1 rounded text-red-400 hover:bg-red-900/20"
      
      select:
        activeClassName: "bg-blue-600 text-white"
        inactiveClassName: "bg-zinc-800 text-zinc-400 hover:bg-zinc-700"

# ============================================================================
# JSON Preview
# JSON ë¯¸ë¦¬ë³´ê¸° ì„¤ì •
# ============================================================================
jsonPreview:
  enabled: true
  modes:
    - annotated  # ì£¼ì„ ë‹¬ë¦° ë·°
    - monaco     # í¸ì§‘ ê°€ëŠ¥í•œ Monaco ì—ë””í„°
  
  defaultMode: "annotated"
  
  annotated:
    showBadges: true  # Required/Optional ë°°ì§€
    colorScheme:
      key: "text-red-400"
      string: "text-emerald-400"
      number: "text-green-400"
      boolean: "text-orange-400"
      null: "text-purple-400"
  
  monaco:
    editable: true
    minimap: true
    applyButton:
      text: "âœ¨ Apply to Form"
      className: "bg-green-600 hover:bg-green-500"

# ============================================================================
# Test Case Management
# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ê´€ë¦¬
# ============================================================================
testCases:
  enabled: true
  
  list:
    showTimestamp: true
    showDescription: true
    inlineRename: true  # ë”ë¸”í´ë¦­ìœ¼ë¡œ ì´ë¦„ ë³€ê²½
  
  buttons:
    save:
      new: "Save as New Test Case"
      update: "Update Test Case"
      icon: "ğŸ’¾"
    
    load:
      auto: true  # í´ë¦­ ì‹œ ìë™ ë¡œë“œ
    
    delete:
      confirm: true
      icon: "ğŸ—‘ï¸"

# ============================================================================
# Validation Messages
# ê²€ì¦ ë©”ì‹œì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§•
# ============================================================================
validationMessages:
  required: "{field} is required"
  invalidType: "{field} must be a {type}"
  invalidEnum: "{field} must be one of: {values}"
  minItems: "{field} must have at least {min} items"
  maxItems: "{field} must have at most {max} items"

